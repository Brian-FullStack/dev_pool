{% extends "base.html" %}
{% block content %}

<h4 class="center-align">Categories</h4>

<!-- Add Category Button-->
<div class="row">
    <div class="col s12 center-align">
        <a href="{{ url_for('create_category') }}" class="btn btn-solid">
           Add Category <i class="fas fa-plus"></i>
        </a>
    </div>
</div>

<!-- Display List of Categories -->
<div class="row">
    {% for category in categories %}
    <div class="col s6 m4 l3">
        <div class="card-panel">
            <span class="card-title center-align">
                <h5>{{ category.category_name }}</h5>
            </span>
            <div class="card-content center-align">
                <!-- Edit Button -->
                <a href="{{ url_for('edit_category', category_id=category._id) }}" class="btn btn-border card-panel-btn">Edit</a>
                <!-- Delete Button Modal Trigger -->
                <a class="btn-solid-red btn modal-trigger card-panel-btn" href="#modal{{ loop.index }}">Delete</a>
            </div>
        </div>
    </div>

    <!-- Modal Structure -->
    <div id="modal{{ loop.index }}" class="modal">
        <div class="modal-content center-align">
            <h4>Are you sure?</h4>
            <p>Delete {{ category.category_name }}?</p>
            <a href="{{ url_for('delete_category', category_id=category._id) }}" class="btn-solid-red btn">Delete</a>
        </div>
    </div>
    {% endfor %}
</div>      

{% endblock %}